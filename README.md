# GayOfTheDay


## Разработка
Разработка бота заброшена, так как хостинг который выделял мне виртуалку, почему-то перестал соединяться по FTP. Да и появились другие дела :D

Так как основу бота я взял в этом хабе -> https://github.com/lehadnk/discord-pidor-bot а потом улучшал его по мере своих возможностей, то можете спокойно брать и копировать этот код, и использовать в своих целях, модифицируя как вам вздумается. Кстати, именно создавая этого бота я разобрался как вообще работает DiscordJS


## Описание
Пишу я это спустя 4 месяца как забил на бота, так что помню уже не всё, но постараюсь сообщить наиболее важное:

Этот бот использует БД SQLite3. Не самый продвинутый вариант, но как по мне для бота такого толка - вообще идеально, ибо почти не нагружает сервер. Как с ней работать, вы сможете нагуглить, я уверен.

В БД у нас (вроде) две таблицы - для того чтоб отслеживать участников, и для сохранения настроек сервера.

В первой таблице лежат все участники, их ники и сервера на которых они присутсвуют. Кста, есть недоработка, что если чел выходит с сервера, не покинув игру - бот не удаляет его из списка участников.

Рандом как раз таки работает через эту БД - выводится список участников игры в произвольном порядке с определённого сервера, но список длинной 1. Он и есть "победитель"


## Особенности
Работая над ботом, я добавил несколько штук:
* автозапуск - игра запускается не по команде, а автоматически в 00:00 по московскому времени, если в БД с настройками стоит соответсвующий пункт
* выбор канала на сервере спец командой, куда будет выводится автосообщение
* табличка БД с настройками. сейчас там правда выводится только то, что есть ли у сервера "подписка", но при желании можно добавить и других столбцов
* команды помощи
* вывод в консоль на хостинге (для удобства разработчика), что бот делает - инициализирует сервер, запускает рулетку и тд
* вывод в статус, сколько серверов бот обслуживал
* позволение пользователем с ролью администратора добавлять и удалять участников из игры тегая их через "собачку" @

## В общем, сделал я не очень много кнш, но тем не менее, если это хоть кому-то поможет (ну например посмотреть на код, как вообще работает бот в дискорде) то я уже рад буду :)

Можете писать на гитхабе, если есть вопросы, я постараюсь ответить, но это не точно, ибо не часто теперь сюда захожу.
